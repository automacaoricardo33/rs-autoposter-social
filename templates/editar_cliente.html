{% extends "base.html" %}

{% block title %}
Editar Cliente
{% endblock %}

{% block content %}
  <h1>Editar Cliente: {{ cliente['nome_cliente'] }}</h1>
  <hr>

  <form method="post" enctype="multipart/form-data" style="display: flex; flex-direction: column; gap: 20px;">
    
    <fieldset style="border: 1px solid #ccc; padding: 20px; border-radius: 5px;">
        <legend style="font-weight: bold; padding: 0 10px;">Informações Gerais</legend>
        <label for="nome_cliente">Nome do Cliente:</label>
        <input type="text" name="nome_cliente" id="nome_cliente" required value="{{ cliente['nome_cliente'] }}" style="width: 98%; padding: 8px;">
        <br><br>
        <label for="rss_urls">URLs dos Feeds RSS (uma por linha):</label>
        <textarea name="rss_urls" id="rss_urls" required rows="5" style="width: 98%; padding: 8px;">{{ rss_urls_texto }}</textarea>
        <br><br>
        <label><input type="checkbox" name="ativo" {% if cliente['ativo'] == 1 %}checked{% endif %}> Automação Ativa</label>
    </fieldset>

    <fieldset style="border: 1px solid #ccc; padding: 20px; border-radius: 5px;">
        <legend style="font-weight: bold; padding: 0 10px;">Design e Layout (Deixe os campos de arquivo em branco para não alterar)</legend>
        
        <p>Logo Atual: {{ cliente['logo_path'] or 'Nenhum' }}</p>
        <label for="logo">Alterar Logo:</label>
        <input type="file" name="logo" id="logo">
        <br><br>
        <label>Layout da Imagem:</label>
        <label><input type="radio" name="layout_imagem" value="padrão" {% if cliente['layout_imagem'] == 'padrão' %}checked{% endif %}> Padrão</label>
        <label><input type="radio" name="layout_imagem" value="fundo_completo" {% if cliente['layout_imagem'] == 'fundo_completo' %}checked{% endif %}> Fundo Completo</label>
        <br><br>
        
        <h4>Cores</h4>
        <label for="cor_fundo_geral">Fundo Geral:</label>
        <input type="color" name="cor_fundo_geral" id="cor_fundo_geral" value="{{ cliente['cor_fundo_geral'] or '#051d40' }}">
        <label for="cor_caixa_titulo">Fundo Caixa Título:</label>
        <input type="color" name="cor_caixa_titulo" id="cor_caixa_titulo" value="{{ cliente['cor_caixa_titulo'] or '#000000' }}">
        <label for="cor_faixa_categoria">Fundo Faixa Categoria:</label>
        <input type="color" name="cor_faixa_categoria" id="cor_faixa_categoria" value="{{ cliente['cor_faixa_categoria'] or '#000000' }}">
        
        <h4>Textos e Fontes</h4>
        <label for="cor_texto_titulo">Cor do Título:</label>
        <input type="color" name="cor_texto_titulo" id="cor_texto_titulo" value="{{ cliente['cor_texto_titulo'] or '#FFFFFF' }}">
        <p>Fonte do Título Atual: {{ cliente['fonte_titulo_path'] or 'Nenhuma' }}</p>
        <label for="fonte_titulo">Alterar Fonte do Título:</label>
        <input type="file" name="fonte_titulo" id="fonte_titulo">
        <br><br>
        <label for="cor_texto_categoria">Cor da Categoria:</label>
        <input type="color" name="cor_texto_categoria" id="cor_texto_categoria" value="{{ cliente['cor_texto_categoria'] or '#FFD700' }}">
        <p>Fonte da Categoria Atual: {{ cliente['fonte_categoria_path'] or 'Nenhuma' }}</p>
        <label for="fonte_categoria">Alterar Fonte da Categoria:</label>
        <input type="file" name="fonte_categoria" id="fonte_categoria">
    </fieldset>

    <fieldset style="border: 1px solid #ccc; padding: 20px; border-radius: 5px;">
        <legend style="font-weight: bold; padding: 0 10px;">Hashtags</legend>
        <label for="hashtags_fixas">Hashtags Fixas (separe com espaço, não inclua o #):</label>
        <textarea name="hashtags_fixas" id="hashtags_fixas" rows="3" style="width: 98%;">{{ cliente['hashtags_fixas'] or '' }}</textarea>
    </fieldset>

    <fieldset style="border: 1px solid #ccc; padding: 20px; border-radius: 5px;">
        <legend style="font-weight: bold; padding: 0 10px;">Credenciais (Tokens)</legend>
        <label for="meta_api_token">Token da API da Meta:</label>
        <textarea name="meta_api_token" id="meta_api_token" rows="3" style="width: 98%;">{{ cliente['meta_api_token'] or '' }}</textarea>
        <br><br>
        <label for="instagram_id">ID da Conta do Instagram:</label>
        <input type="text" name="instagram_id" id="instagram_id" value="{{ cliente['instagram_id'] or '' }}" style="width: 98%; padding: 8px;">
        <br><br>
        <label for="facebook_page_id">ID da Página do Facebook:</label>
        <input type="text" name="facebook_page_id" id="facebook_page_id" value="{{ cliente['facebook_page_id'] or '' }}" style="width: 98%; padding: 8px;">
    </fieldset>

    <div style="text-align: right;">
      <a href="/" style="margin-right: 15px;">Cancelar</a>
      <button type="submit" style="background-color: #007bff; color: white; padding: 12px 20px; border: none; border-radius: 5px; cursor: pointer;">Salvar Alterações</button>
    </div>
  </form>
{% endblock %}